# Git

### Создание ветки
```
git branch                # Показать список веток.
git branch {Имя/ветки}    # Создать новую ветку с указанным именем на текущем коммите.
git checkout {Имя/ветки}  # Перейти в указанную ветку.
git merge origin dev      # Влить в ветку, в которой находимся, данные из ветки dev.
```

### Внесение изменений
```
git pull origin {Имя/ветки}                  # Забрать коммиты и промержить их в ветку.
git status									 # Текущий статус.
git git diff --color-words {/путь/до/файла}  # Показать изменения по файлу. 
git add .                                    # Добавить измененные файлы в индекс.
git commit -m "Комментарий"                  # Коммит.
git push                                     # Пуш.
```

### Загрузка ветки из удал. репо.
```
git fetch origin                        # Забрать коммиты, но не мержить их с веткой.
git remote prune origin                 # Очищает объекты Git без возможности доступа или без родителя. Например удаленные ветки.
git remote show origin | grep 141       # Посмотреть удаленные ветки и отфильтровать по условию.
git checkout --track origin/{Имя ветки} # Загрузка ветки из origin
```

### Удаление ветки
```
git branch -D {Имя ветки}      # удалить ветку ЛОКАЛЬНО принудительно. Даже если она не промержена в главную ветку.
git push origin -d {Имя ветки} # Удалить удаленную ветку.
```

### Перенос ветки между релизами
```
git branch -m {Имя ветки}                  # переименовать локально ТЕКУЩУЮ ветку в {Имя ветки}
git push origin :{Имя ветки1} {Имя ветки2} # применить переименование в удаленном репозитории
git branch --unset-upstream                # Перестать смотреть на ветку в origin
```

### Мерж
```
git merge origin/dev                                  # Вмержить изменения из origin/dev в текущею ветку.
git checkout --conflict=diff3 --merge {Путь до файла} # Добавить строк кода при разрешении конфликта. Помогает лучше понять код.
git add .                                             # Добавить файлы в индекс
git merge --continue                                  # Аналог команды commit
git merge --abort                                     # Остановить merge
```


### Рецензия
```
git fetch origin                                                               # Забрать коммиты, но не мержить их с веткой
git remote show origin | grep 141                                              # Посмотреть удаленные ветки и отфильтровать по условию.
git diff --name-only origin/{Имя ветки1} origin/{Имя ветки2}                   # показать какие файлы у веток отличаются.
git diff --color-words origin/{Имя ветки1 origin/{Имя ветки2} {Путь до файла}  # Теперь смотрим изменения по конкретному файлу. РЕГИСТР ПУТИ ОЧ ВАЖЕН!!
```

### Что менялось в ветке
```
git log --grep RELEASE-105 origin/dev                                            # Найти коммит до мержа релиза 
git diff --name-only 656279ec3e958538d9ff9df21927f71b37a20776 origin/{Имя ветки} # Сравнить коммит до мержа с веткой задачи
```

### Посмотреть историю
```
git log -2                                                                   # показать последние 2 коммита в активной ветке
git log -2 {Путь до файла}                                                   # показать историю изменений файла, последние 2 коммитов (только коммиты)
git log -p {Путь до файла}                                                   # показать историю изменений файла (коммиты и изменения)
git log -G'myFunction' -p {Путь до файла}                                    # показать все коммиты, в которых менялись строки с myFunction (в кавычках регулярное выражение)
git log --grep fix                                                           # показать коммиты, в описании которых есть буквосочетание fix (регистрозависимо, только коммиты текущей ветки)
git log --grep fix -i                                                        # показать коммиты, в описании которых есть буквосочетание fix (регистроНЕзависимо, только коммиты текущей ветки)
git show 60d6582                                                             # показать изменения из коммита с указанным хешем
git log --name-only --author='nvvertinskiy' --since="2023-01-01" -S pdf      # -S коммиты, в которых изменение в коде повлекло за собой добавление или удаление указанной строки
git branch -a --contains <commit hash>                                       # Какая ветка содержит коммит.
git log c0118fa..HEAD --ancestry-path --merges --oneline --color | tail -n 1 # Какая ветка содержит коммит (если ветка влита в другую)